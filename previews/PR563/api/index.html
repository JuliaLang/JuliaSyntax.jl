<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · JuliaSyntax.jl</title><meta name="title" content="API Reference · JuliaSyntax.jl"/><meta property="og:title" content="API Reference · JuliaSyntax.jl"/><meta property="twitter:title" content="API Reference · JuliaSyntax.jl"/><meta name="description" content="Documentation for JuliaSyntax.jl."/><meta property="og:description" content="Documentation for JuliaSyntax.jl."/><meta property="twitter:description" content="Documentation for JuliaSyntax.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JuliaSyntax.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../howto/">How To</a></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../reference/">Syntax Trees</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Parsing"><span>Parsing</span></a></li><li><a class="tocitem" href="#Tokenization"><span>Tokenization</span></a></li><li><a class="tocitem" href="#Source-code-handling"><span>Source code handling</span></a></li><li><a class="tocitem" href="#Expression-predicates,-kinds-and-flags"><span>Expression predicates, kinds and flags</span></a></li><li><a class="tocitem" href="#Syntax-trees"><span>Syntax trees</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../design/">Design Discussion</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/JuliaSyntax.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/main/docs/src/api.md#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Parsing"><a class="docs-heading-anchor" href="#Parsing">Parsing</a><a id="Parsing-1"></a><a class="docs-heading-anchor-permalink" href="#Parsing" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.parsestmt" href="#JuliaSyntax.parsestmt"><code>JuliaSyntax.parsestmt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs"># Parse a single expression/statement
parsestmt(TreeType, text, [index];
          version=VERSION,
          ignore_trivia=true,
          filename=nothing,
          ignore_errors=false,
          ignore_warnings=ignore_errors)

# Parse all statements at top level (file scope)
parseall(...)

# Parse a single syntax atom
parseatom(...)</code></pre><p>Parse Julia source code string <code>text</code> into a data structure of type <code>TreeType</code>. <code>parsestmt</code> parses a single Julia statement, <code>parseall</code> parses top level statements at file scope and <code>parseatom</code> parses a single Julia identifier or other &quot;syntax atom&quot;.</p><p>If <code>text</code> is passed without <code>index</code>, all the input text must be consumed and a tree data structure is returned. When an integer byte <code>index</code> is passed, a tuple <code>(tree, next_index)</code> will be returned containing the next index in <code>text</code> to resume parsing. By default whitespace and comments before and after valid code are ignored but you can turn this off by setting <code>ignore_trivia=false</code>.</p><p><code>version</code> (default <code>VERSION</code>) may be used to set the syntax version to any Julia version <code>&gt;= v&quot;1.0&quot;</code>. We aim to parse all Julia syntax which has been added after v&quot;1.0&quot;, emitting an error if it&#39;s not compatible with the requested <code>version</code>.</p><p>Pass <code>filename</code> to set any file name information embedded within the output tree, if applicable. This will also annotate errors and warnings with the source file name.</p><p>A <code>ParseError</code> will be thrown if any errors or warnings occurred during parsing. To avoid exceptions due to warnings, use <code>ignore_warnings=true</code>. To also avoid exceptions due to errors, use <code>ignore_errors=true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL144-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.parseall" href="#JuliaSyntax.parseall"><code>JuliaSyntax.parseall</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs"># Parse a single expression/statement
parsestmt(TreeType, text, [index];
          version=VERSION,
          ignore_trivia=true,
          filename=nothing,
          ignore_errors=false,
          ignore_warnings=ignore_errors)

# Parse all statements at top level (file scope)
parseall(...)

# Parse a single syntax atom
parseatom(...)</code></pre><p>Parse Julia source code string <code>text</code> into a data structure of type <code>TreeType</code>. <code>parsestmt</code> parses a single Julia statement, <code>parseall</code> parses top level statements at file scope and <code>parseatom</code> parses a single Julia identifier or other &quot;syntax atom&quot;.</p><p>If <code>text</code> is passed without <code>index</code>, all the input text must be consumed and a tree data structure is returned. When an integer byte <code>index</code> is passed, a tuple <code>(tree, next_index)</code> will be returned containing the next index in <code>text</code> to resume parsing. By default whitespace and comments before and after valid code are ignored but you can turn this off by setting <code>ignore_trivia=false</code>.</p><p><code>version</code> (default <code>VERSION</code>) may be used to set the syntax version to any Julia version <code>&gt;= v&quot;1.0&quot;</code>. We aim to parse all Julia syntax which has been added after v&quot;1.0&quot;, emitting an error if it&#39;s not compatible with the requested <code>version</code>.</p><p>Pass <code>filename</code> to set any file name information embedded within the output tree, if applicable. This will also annotate errors and warnings with the source file name.</p><p>A <code>ParseError</code> will be thrown if any errors or warnings occurred during parsing. To avoid exceptions due to warnings, use <code>ignore_warnings=true</code>. To also avoid exceptions due to errors, use <code>ignore_errors=true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL147-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.parseatom" href="#JuliaSyntax.parseatom"><code>JuliaSyntax.parseatom</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs"># Parse a single expression/statement
parsestmt(TreeType, text, [index];
          version=VERSION,
          ignore_trivia=true,
          filename=nothing,
          ignore_errors=false,
          ignore_warnings=ignore_errors)

# Parse all statements at top level (file scope)
parseall(...)

# Parse a single syntax atom
parseatom(...)</code></pre><p>Parse Julia source code string <code>text</code> into a data structure of type <code>TreeType</code>. <code>parsestmt</code> parses a single Julia statement, <code>parseall</code> parses top level statements at file scope and <code>parseatom</code> parses a single Julia identifier or other &quot;syntax atom&quot;.</p><p>If <code>text</code> is passed without <code>index</code>, all the input text must be consumed and a tree data structure is returned. When an integer byte <code>index</code> is passed, a tuple <code>(tree, next_index)</code> will be returned containing the next index in <code>text</code> to resume parsing. By default whitespace and comments before and after valid code are ignored but you can turn this off by setting <code>ignore_trivia=false</code>.</p><p><code>version</code> (default <code>VERSION</code>) may be used to set the syntax version to any Julia version <code>&gt;= v&quot;1.0&quot;</code>. We aim to parse all Julia syntax which has been added after v&quot;1.0&quot;, emitting an error if it&#39;s not compatible with the requested <code>version</code>.</p><p>Pass <code>filename</code> to set any file name information embedded within the output tree, if applicable. This will also annotate errors and warnings with the source file name.</p><p>A <code>ParseError</code> will be thrown if any errors or warnings occurred during parsing. To avoid exceptions due to warnings, use <code>ignore_warnings=true</code>. To also avoid exceptions due to errors, use <code>ignore_errors=true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL150-L188">source</a></section></article><h3 id="Low-level-parsing-API"><a class="docs-heading-anchor" href="#Low-level-parsing-API">Low level parsing API</a><a id="Low-level-parsing-API-1"></a><a class="docs-heading-anchor-permalink" href="#Low-level-parsing-API" title="Permalink"></a></h3><p>The <code>ParseStream</code> interface which provides a low-level stream-like I/O interface for writing the parser. The parser does not depend on or produce any concrete tree data structure as part of the parsing phase but the output spans can be post-processed into various tree data structures as required using <a href="@ref"><code>JuliaSyntax.build_tree</code></a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.parse!" href="#JuliaSyntax.parse!"><code>JuliaSyntax.parse!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse!(stream::ParseStream; rule=:all)</code></pre><p>Parse Julia source code from a <a href="#JuliaSyntax.ParseStream"><code>ParseStream</code></a> object. Output tree data structures may be extracted from <code>stream</code> with the <a href="@ref"><code>build_tree</code></a> function.</p><p><code>rule</code> may be any of</p><ul><li><code>:all</code> (default) — parse a whole &quot;file&quot; of top level statements. In this mode, the parser expects to fully consume the input.</li><li><code>:statement</code> — parse a single statement, or statements separated by semicolons.</li><li><code>:atom</code> — parse a single syntax &quot;atom&quot;: a literal, identifier, or parenthesized expression.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL34-L46">source</a></section><section><div><pre><code class="language-julia hljs">parse!(TreeType, io::IO; rule=:all, version=VERSION)</code></pre><p>Parse Julia source code from a seekable <code>IO</code> object. The output is a tuple <code>(tree, diagnostics)</code>. When <code>parse!</code> returns, the stream <code>io</code> is positioned directly after the last byte which was consumed during parsing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL66-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.ParseStream" href="#JuliaSyntax.ParseStream"><code>JuliaSyntax.ParseStream</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ParseStream(text::AbstractString,          index::Integer=1; version=VERSION)
ParseStream(text::IO;                                        version=VERSION)
ParseStream(text::Vector{UInt8},           index::Integer=1; version=VERSION)
ParseStream(ptr::Ptr{UInt8}, len::Integer, index::Integer=1; version=VERSION)</code></pre><p>Construct a <code>ParseStream</code> from input which may come in various forms:</p><ul><li>An string (zero copy for <code>String</code> and <code>SubString</code>)</li><li>An <code>IO</code> object (zero copy for <code>IOBuffer</code>). The <code>IO</code> object must be seekable.</li><li>A buffer of bytes (zero copy). The caller is responsible for preserving buffers passed as <code>(ptr,len)</code>.</li></ul><p>A byte <code>index</code> may be provided as the position to start parsing.</p><p>ParseStream provides an IO interface for the parser which provides lexing of the source text input into tokens, manages insignificant whitespace tokens on behalf of the parser, and stores output tokens and tree nodes in a pair of output arrays.</p><p><code>version</code> (default <code>VERSION</code>) may be used to set the syntax version to any Julia version <code>&gt;= v&quot;1.0&quot;</code>. We aim to parse all Julia syntax which has been added after v&quot;1.0&quot;, emitting an error if it&#39;s not compatible with the requested <code>version</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/parse_stream.jl#LL212-L235">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>JuliaSyntax.build_tree</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Tokenization"><a class="docs-heading-anchor" href="#Tokenization">Tokenization</a><a id="Tokenization-1"></a><a class="docs-heading-anchor-permalink" href="#Tokenization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.tokenize" href="#JuliaSyntax.tokenize"><code>JuliaSyntax.tokenize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tokenize(text; operators_as_identifiers=true)</code></pre><p>Returns the tokenized UTF-8 encoded <code>text</code> as a vector of <code>Token</code>s. The text for the token can be retrieved by using <code>untokenize()</code>. The full text can be reconstructed with, for example, <code>join(untokenize.(tokenize(text), text))</code>.</p><p>This interface works on UTF-8 encoded string or buffer data only.</p><p>The keyword <code>operators_as_identifiers</code> specifies whether operators in identifier-position should have <code>K&quot;Identifier&quot;</code> as their kind, or be emitted as more specific operator kinds. For example, whether the <code>+</code> in <code>a + b</code> should be emitted as <code>K&quot;Identifier&quot;</code> (the default) or as <code>K&quot;+&quot;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL176-L189">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.untokenize" href="#JuliaSyntax.untokenize"><code>JuliaSyntax.untokenize</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return the string representation of a token kind, or <code>nothing</code> if the kind represents a class of tokens like K&quot;Identifier&quot;.</p><p>When <code>unique=true</code> only return a string when the kind uniquely defines the corresponding input token, otherwise return <code>nothing</code>.  When <code>unique=false</code>, return the name of the kind.</p><p>TODO: Replace <code>untokenize()</code> with <code>Base.string()</code>?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/kinds.jl#LL1117-L1126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.Token" href="#JuliaSyntax.Token"><code>JuliaSyntax.Token</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Token type resulting from calling <code>tokenize(text)</code></p><p>Use</p><ul><li><code>kind(tok)</code> to get the token kind</li><li><code>untokenize(tok, text)</code> to retrieve the text</li><li>Predicates like <code>is_error(tok)</code> to query token categories and flags</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/parser_api.jl#LL159-L166">source</a></section></article><h2 id="Source-code-handling"><a class="docs-heading-anchor" href="#Source-code-handling">Source code handling</a><a id="Source-code-handling-1"></a><a class="docs-heading-anchor-permalink" href="#Source-code-handling" title="Permalink"></a></h2><p>This section describes the generic functions for source text, source location computation and formatting functions.</p><p>Contiguous syntax objects like nodes in the syntax tree should implement the following where possible:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.sourcefile" href="#JuliaSyntax.sourcefile"><code>JuliaSyntax.sourcefile</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sourcefile(x)</code></pre><p>Get the source file object (usually <code>SourceFile</code>) for a given syntax object <code>x</code>. The source file along with a byte range may be used to compute <code>source_line()</code>, <code>source_location()</code>, <code>filename()</code>, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL5-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.byte_range" href="#JuliaSyntax.byte_range"><code>JuliaSyntax.byte_range</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">byte_range(x)</code></pre><p>Return the range of bytes which <code>x</code> covers in the source text. See also <a href="#JuliaSyntax.char_range"><code>char_range</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL15-L20">source</a></section></article><p>This will provide implementations of the following which include range information, line numbers, and fancy highlighting of source ranges:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.first_byte" href="#JuliaSyntax.first_byte"><code>JuliaSyntax.first_byte</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">first_byte(x)</code></pre><p>Return the first byte of <code>x</code> in the source text.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.last_byte" href="#JuliaSyntax.last_byte"><code>JuliaSyntax.last_byte</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">first_byte(x)</code></pre><p>Return the last byte of <code>x</code> in the source text.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.filename" href="#JuliaSyntax.filename"><code>JuliaSyntax.filename</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">filename(x)</code></pre><p>Get file name associated with <code>source</code>, or an empty string if one didn&#39;t exist.</p><p>For objects <code>x</code> such as syntax trees, defers to <code>filename(sourcefile(x))</code> by default.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL50-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.source_line" href="#JuliaSyntax.source_line"><code>JuliaSyntax.source_line</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">source_line(x)
source_line(source::SourceFile, byte_index::Integer)</code></pre><p>Get the line number of the first line on which object <code>x</code> appears. In the second form, get the line number at the given <code>byte_index</code> within <code>source</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL63-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.source_location" href="#JuliaSyntax.source_location"><code>JuliaSyntax.source_location</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">source_location(x)
source_location(source::SourceFile, byte_index::Integer)

source_location(LineNumberNode, x)
source_location(LineNumberNode, source, byte_index)</code></pre><p>Get <code>(line,column)</code> of the first byte where object <code>x</code> appears in the source. The second form allows one to be more precise with the <code>byte_index</code>, given the source file.</p><p>Providing <code>LineNumberNode</code> as the first argument will return the line and file name in a line number node object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL72-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.char_range" href="#JuliaSyntax.char_range"><code>JuliaSyntax.char_range</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">char_range(x)</code></pre><p>Compute the range in <em>character indices</em> over the source text for syntax object <code>x</code>. If you want to index the source string you need this, rather than <a href="#JuliaSyntax.byte_range"><code>byte_range</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL24-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.sourcetext" href="#JuliaSyntax.sourcetext"><code>JuliaSyntax.sourcetext</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sourcetext(x)</code></pre><p>Get the full source text syntax object <code>x</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL88-L92">source</a></section><section><div><pre><code class="language-julia hljs">sourcetext(source::SourceFile)</code></pre><p>Get the full source text of a <code>SourceFile</code> as a string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL263-L267">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.highlight" href="#JuliaSyntax.highlight"><code>JuliaSyntax.highlight</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">highlight(io, x; color, note, notecolor,
          context_lines_before, context_lines_inner, context_lines_after)

highlight(io::IO, source::SourceFile, range::UnitRange; kws...)</code></pre><p>Print the lines of source code surrounding <code>x</code> which is highlighted with background <code>color</code> and underlined with markers in the text. A <code>note</code> in <code>notecolor</code> may be provided as annotation. By default, <code>x</code> should be an object with <code>sourcefile(x)</code> and <code>byte_range(x)</code> implemented.</p><p>The context arguments <code>context_lines_before</code>, etc, refer to the number of lines of code which will be printed as context before and after, with <code>inner</code> referring to context lines inside a multiline region.</p><p>The second form shares the keywords of the first but allows an explicit source file and byte range to be supplied.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL97-L114">source</a></section></article><p><code>SourceFile</code>-specific functions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.SourceFile" href="#JuliaSyntax.SourceFile"><code>JuliaSyntax.SourceFile</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SourceFile(code [; filename=nothing, first_line=1, first_index=1])</code></pre><p>UTF-8 source text with associated file name and line number, storing the character indices of the start of each line. <code>first_line</code> and <code>first_index</code> can be used to specify the line number and index of the first character of <code>code</code> within a larger piece of source text.</p><p><code>SourceFile</code> may be indexed via <code>getindex</code> or <code>view</code> to get a string.  Line information for a byte offset can be looked up via the <code>source_line</code>, <code>source_location</code> and <code>source_line_range</code> functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL121-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.source_line_range" href="#JuliaSyntax.source_line_range"><code>JuliaSyntax.source_line_range</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get byte range of the source line at byte<em>index, buffered by `context</em>lines<em>before<code>and</code>context</em>lines_after` before and after.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/source_files.jl#LL196-L199">source</a></section></article><h2 id="Expression-predicates,-kinds-and-flags"><a class="docs-heading-anchor" href="#Expression-predicates,-kinds-and-flags">Expression predicates, kinds and flags</a><a id="Expression-predicates,-kinds-and-flags-1"></a><a class="docs-heading-anchor-permalink" href="#Expression-predicates,-kinds-and-flags" title="Permalink"></a></h2><p>Expressions are tagged with a kind - like a type, but represented as an integer tag rather than a full Julia type for efficiency. (Very like the tag of a &quot;sum type&quot;.) <code>Kind</code>s are constructed with the <code>@K_str</code> macro.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.@K_str" href="#JuliaSyntax.@K_str"><code>JuliaSyntax.@K_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">K&quot;s&quot;</code></pre><p>The kind of a token or AST internal node with string &quot;s&quot;.</p><p>For example</p><ul><li>K&quot;)&quot; is the kind of the right parenthesis token</li><li>K&quot;block&quot; is the kind of a block of code (eg, statements within a begin-end).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/kinds.jl#LL151-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.Kind" href="#JuliaSyntax.Kind"><code>JuliaSyntax.Kind</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">K&quot;name&quot;
Kind(namestr)</code></pre><p><code>Kind</code> is a type tag for specifying the type of tokens and interior nodes of a syntax tree. Abstractly, this tag is used to define our own <em>sum types</em> for syntax tree nodes. We do this explicitly outside the Julia type system because (a) Julia doesn&#39;t have sum types and (b) we want concrete data structures which are unityped from the Julia compiler&#39;s point of view, for efficiency.</p><p>Naming rules:</p><ul><li>Kinds which correspond to exactly one textural form are represented with that text. This includes keywords like K&quot;for&quot; and operators like K&quot;*&quot;.</li><li>Kinds which represent many textural forms have UpperCamelCase names. This includes kinds like K&quot;Identifier&quot; and K&quot;Comment&quot;.</li><li>Kinds which exist merely as delimiters are all uppercase</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/kinds.jl#LL4-L20">source</a></section></article><p>The kind of an expression <code>ex</code> in a tree should be accessed with <code>kind(ex)</code></p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.kind" href="#JuliaSyntax.kind"><code>JuliaSyntax.kind</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">kind(x)</code></pre><p>Return the <code>Kind</code> of <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/kinds.jl#LL177-L181">source</a></section></article><p>In addition to the <code>kind</code>, a small integer set of &quot;flags&quot; is included to further distinguish details of each expression, accessed with the <code>flags</code> function. The kind and flags can be wrapped into a <code>SyntaxHead</code> which is accessed with the <code>head</code> function.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.flags" href="#JuliaSyntax.flags"><code>JuliaSyntax.flags</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">flags(x)</code></pre><p>Return the flag bits of a syntactic construct. Prefer to query these with the predicates <code>is_trivia</code>, <code>is_prefix_call</code>, <code>is_infix_op_call</code>, <code>is_prefix_op_call</code>, <code>is_postfix_op_call</code>, <code>is_dotted</code>, <code>is_suffixed</code>, <code>is_decorated</code>.</p><p>Or extract numeric portion of the flags with <code>numeric_flags</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/parse_stream.jl#LL43-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.SyntaxHead" href="#JuliaSyntax.SyntaxHead"><code>JuliaSyntax.SyntaxHead</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SyntaxHead(kind, flags)</code></pre><p>A <code>SyntaxHead</code> combines the <a href="#JuliaSyntax.Kind"><code>Kind</code></a> of a syntactic construct with a set of flags. The kind defines the broad &quot;type&quot; of the syntactic construct, while the flag bits compactly store more detailed information about the construct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/parse_stream.jl#LL29-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.head" href="#JuliaSyntax.head"><code>JuliaSyntax.head</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">head(x)</code></pre><p>Get the <a href="#JuliaSyntax.SyntaxHead"><code>SyntaxHead</code></a> of a node of a tree or other syntax-related data structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/syntax_tree.jl#LL164-L169">source</a></section></article><p>Details about the flags may be extracted using various predicates:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_trivia" href="#JuliaSyntax.is_trivia"><code>JuliaSyntax.is_trivia</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_trivia(x)</code></pre><p>Return true for &quot;syntax trivia&quot;: tokens in the tree which are either largely invisible to the parser (eg, whitespace) or implied by the structure of the AST (eg, reserved words).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/parse_stream.jl#LL71-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_prefix_call" href="#JuliaSyntax.is_prefix_call"><code>JuliaSyntax.is_prefix_call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_prefix_call(x)</code></pre><p>Return true for normal prefix function call syntax such as the <code>f</code> call node parsed from <code>f(x)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL83-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_infix_op_call" href="#JuliaSyntax.is_infix_op_call"><code>JuliaSyntax.is_infix_op_call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_infix_op_call(x)</code></pre><p>Return true for infix operator calls such as the <code>+</code> call node parsed from <code>x + y</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL91-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_prefix_op_call" href="#JuliaSyntax.is_prefix_op_call"><code>JuliaSyntax.is_prefix_op_call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_prefix_op_call(x)</code></pre><p>Return true for prefix operator calls such as the <code>+</code> call node parsed from <code>+x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_postfix_op_call" href="#JuliaSyntax.is_postfix_op_call"><code>JuliaSyntax.is_postfix_op_call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_postfix_op_call(x)</code></pre><p>Return true for postfix operator calls such as the <code>&#39;ᵀ</code> call node parsed from <code>x&#39;ᵀ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL106-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_dotted" href="#JuliaSyntax.is_dotted"><code>JuliaSyntax.is_dotted</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_dotted(x)</code></pre><p>Return true for dotted syntax tokens</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL113-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_suffixed" href="#JuliaSyntax.is_suffixed"><code>JuliaSyntax.is_suffixed</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_suffixed(x)</code></pre><p>Return true for operators which have suffixes, such as <code>+₁</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL120-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_decorated" href="#JuliaSyntax.is_decorated"><code>JuliaSyntax.is_decorated</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_decorated(x)</code></pre><p>Return true for operators which are decorated with a dot or suffix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL127-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.numeric_flags" href="#JuliaSyntax.numeric_flags"><code>JuliaSyntax.numeric_flags</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">numeric_flags(x)</code></pre><p>Return the number attached to a <code>SyntaxHead</code>. This is only for kinds <code>K&quot;nrow&quot;</code> and <code>K&quot;ncat&quot;</code>, for now.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL134-L139">source</a></section></article><p>Some of the more unusual predicates are accessed merely with <code>has_flags(x, flag_bits)</code>, where any of the following uppercase constants may be used for <code>flag_bits</code> after checking that the <code>kind</code> is correct.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.has_flags" href="#JuliaSyntax.has_flags"><code>JuliaSyntax.has_flags</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">has_flags(x, test_flags)</code></pre><p>Return true if any of <code>test_flags</code> are set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/parse_stream.jl#LL21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.TRIPLE_STRING_FLAG" href="#JuliaSyntax.TRIPLE_STRING_FLAG"><code>JuliaSyntax.TRIPLE_STRING_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set when K&quot;string&quot; or K&quot;cmdstring&quot; was triple-delimited as with &quot;&quot;&quot; or ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL16-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.RAW_STRING_FLAG" href="#JuliaSyntax.RAW_STRING_FLAG"><code>JuliaSyntax.RAW_STRING_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set when a K&quot;string&quot;, K&quot;cmdstring&quot; or K&quot;Identifier&quot; needs raw string unescaping</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL21-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.PARENS_FLAG" href="#JuliaSyntax.PARENS_FLAG"><code>JuliaSyntax.PARENS_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for K&quot;tuple&quot;, K&quot;block&quot; or K&quot;macrocall&quot; which are delimited by parentheses</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL26-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.TRAILING_COMMA_FLAG" href="#JuliaSyntax.TRAILING_COMMA_FLAG"><code>JuliaSyntax.TRAILING_COMMA_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for various delimited constructs when they contains a trailing comma. For example, to distinguish <code>(a,b,)</code> vs <code>(a,b)</code>, and <code>f(a)</code> vs <code>f(a,)</code>. Kinds where this applies are: <code>tuple call dotcall macrocall vect curly braces &lt;: &gt;:</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.COLON_QUOTE" href="#JuliaSyntax.COLON_QUOTE"><code>JuliaSyntax.COLON_QUOTE</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for K&quot;quote&quot; for the short form <code>:x</code> as opposed to long form <code>quote x end</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL38-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.TOPLEVEL_SEMICOLONS_FLAG" href="#JuliaSyntax.TOPLEVEL_SEMICOLONS_FLAG"><code>JuliaSyntax.TOPLEVEL_SEMICOLONS_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for K&quot;toplevel&quot; which is delimited by parentheses</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL43-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.MUTABLE_FLAG" href="#JuliaSyntax.MUTABLE_FLAG"><code>JuliaSyntax.MUTABLE_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for K&quot;struct&quot; when mutable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL53-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.BARE_MODULE_FLAG" href="#JuliaSyntax.BARE_MODULE_FLAG"><code>JuliaSyntax.BARE_MODULE_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for K&quot;module&quot; when it&#39;s not bare (<code>module</code>, not <code>baremodule</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.SHORT_FORM_FUNCTION_FLAG" href="#JuliaSyntax.SHORT_FORM_FUNCTION_FLAG"><code>JuliaSyntax.SHORT_FORM_FUNCTION_FLAG</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Set for K&quot;function&quot; in short form definitions such as <code>f() = 1</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/julia/julia_parse_stream.jl#LL48-L50">source</a></section></article><h2 id="Syntax-trees"><a class="docs-heading-anchor" href="#Syntax-trees">Syntax trees</a><a id="Syntax-trees-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax-trees" title="Permalink"></a></h2><p>Access to the children of a tree node is provided by the functions</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.is_leaf" href="#JuliaSyntax.is_leaf"><code>JuliaSyntax.is_leaf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_leaf(node)</code></pre><p>Determine whether the node is a leaf of the tree. In our trees a &quot;leaf&quot; corresponds to a single token in the source text.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/syntax_tree.jl#LL132-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.numchildren" href="#JuliaSyntax.numchildren"><code>JuliaSyntax.numchildren</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">numchildren(node)</code></pre><p>Return <code>length(children(node))</code> but possibly computed in a more efficient way.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/syntax_tree.jl#LL147-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.children" href="#JuliaSyntax.children"><code>JuliaSyntax.children</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">children(node)</code></pre><p>Return an iterable list of children for the node. For leaves, return <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/syntax_tree.jl#LL140-L144">source</a></section></article><p>For convenient access to the children, we also provide <code>node[i]</code>, <code>node[i:j]</code> and <code>node[begin:end]</code> by implementing <code>Base.getindex()</code>, <code>Base.firstindex()</code> and <code>Base.lastindex()</code>. We choose to return a view from <code>node[i:j]</code> to make it non-allocating.</p><p>Tree traversal is supported by using these functions along with the predicates such as <a href="#JuliaSyntax.kind"><code>kind</code></a> listed above.</p><h3 id="Trees-referencing-the-source"><a class="docs-heading-anchor" href="#Trees-referencing-the-source">Trees referencing the source</a><a id="Trees-referencing-the-source-1"></a><a class="docs-heading-anchor-permalink" href="#Trees-referencing-the-source" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.SyntaxNode" href="#JuliaSyntax.SyntaxNode"><code>JuliaSyntax.SyntaxNode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SyntaxNode(source::SourceFile, raw::GreenNode{SyntaxHead};
           keep_parens=false, position::Integer=1)</code></pre><p>An AST node with a similar layout to <code>Expr</code>. Typically constructed from source text by calling one of the parser API functions such as <a href="#JuliaSyntax.parseall"><code>parseall</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/syntax_tree.jl#LL84-L90">source</a></section></article><p>Functions applicable to <code>SyntaxNode</code> include everything in the sections on heads/kinds as well as the accessor functions in the source code handling section.</p><h3 id="Relocatable-syntax-trees"><a class="docs-heading-anchor" href="#Relocatable-syntax-trees">Relocatable syntax trees</a><a id="Relocatable-syntax-trees-1"></a><a class="docs-heading-anchor-permalink" href="#Relocatable-syntax-trees" title="Permalink"></a></h3><p><a href="@ref"><code>GreenNode</code></a> is a special low level syntax tree: it&#39;s &quot;relocatable&quot; in the sense that it doesn&#39;t carry an absolute position in the source code or even a reference to the source text. This allows it to be reused for incremental parsing, but does make it a pain to work with directly!</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.GreenNode" href="#JuliaSyntax.GreenNode"><code>JuliaSyntax.GreenNode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct GreenNode</code></pre><p>An explicit pointer-y representation of the green tree produced by the parser. See <a href="@ref"><code>RawGreenNode</code></a> for documentation on working with the implicit green tree directly. However, this representation is useful for introspection as it provides O(1) access to the children (as well as forward iteration).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/green_node.jl#LL1-L8">source</a></section></article><p>Green nodes only have a relative position so implement <code>span()</code> instead of <code>byte_range()</code>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaSyntax.span" href="#JuliaSyntax.span"><code>JuliaSyntax.span</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">span(node)</code></pre><p>Get the number of bytes this node covers in the source text.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/core/tree_cursors.jl#LL74-L78">source</a></section><section><div><pre><code class="language-julia hljs">span(node)</code></pre><p>Get the number of bytes this node covers in the source text.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/JuliaSyntax.jl/blob/19581c36b1c6711b154b468d0eed788ccaa6124c/src/porcelain/green_node.jl#LL25-L29">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reference/">« Syntax Trees</a><a class="docs-footer-nextpage" href="../design/">Design Discussion »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 9 June 2025 23:38">Monday 9 June 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
